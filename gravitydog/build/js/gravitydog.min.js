console.log("loaded vg.js"),define("vg/vg",[],function(){var t={};return t.hitTest=function(t,e,i,n,o,h){return t>=i&&i+o>=t&&e>=n&&n+h>=e},t.hitTestRect=function(e,i,n,o,h,s,a,c){return t.hitTest(e,i,h,s,a,c)||t.hitTest(e+n,i,h,s,a,c)||t.hitTest(e,i+o,h,s,a,c)||t.hitTest(e+n,i+o,h,s,a,c)},t.isMobile=function(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch},t.score=0,t.scorePlus=function(e){t.score+=e},t.getScore=function(){return t.score},t.setScore=function(e){t.score=e},t}),console.log("prop.js loaded"),define("vg/prop",[],function(){var t=function(t,e,i,n,o){this.x=t,this.y=e,this.width=i,this.height=n,this.color=o};return t.prototype.draw=function(t){t.fillStyle=this.color,t.fillRect(Math.round(this.x),Math.round(this.y),this.width,this.height)},t}),console.log("sprite.js loaded"),define("vg/sprite",["vg/prop"],function(t){var e=function(e,i,n,o,h){t.call(this,e,i,n,o,h),this.vx=0,this.vy=0,this.speed=0,this.dir=0};return e.prototype=new t,e.prototype.update=function(t,e){this.x+=this.vx,this.y+=this.vy},e.prototype.draw=function(t){t.fillStyle=this.color,t.fillRect(Math.round(this.x),Math.round(this.y),this.width,this.height)},e.prototype.setVelocity=function(t,e){this.vx=t,this.vy=e,this.speed=Math.sqrt(t*t+e*e)},e.prototype.setVector=function(t,i){var n=e.vectorToVelocity(t,i);this.vx=n.vx,this.vy=n.vy,this.dir=t,this.speed=i},e.prototype.vOscillate=function(){this.oscillateOffset||(this.oscillateOffset=0),this.oscillateOffset+=4,this.x+=this.vx,this.y+=this.vy+Math.sin(this.oscillateOffset*Math.PI/180)},e.prototype.iconJump=function(t){this.oscillateOffset||(this.oscillateOffset=0),this.baseLineY||(this.baseLineY=this.y),this.oscillateOffset+=4;var e=-Math.sin(this.oscillateOffset*Math.PI/180)*t;this.y-e<this.baseLineY&&(this.y=this.baseLineY-e)},e.vectorToVelocity=function(t,e){var i={},n=t*Math.PI/180;return i.vy=e*Math.sin(n),i.vx=e*Math.cos(n),i},e.prototype.moveForward=function(t){this.x=this.x+this.vx*t,this.y=this.y+this.vy*t},e.bWidth=100,e.bHeight=100,e}),console.log("clickable.js loaded"),define("vg/clickable",["vg/sprite","vg/vg"],function(t,e){var i=function(e,i,n,o,h){t.call(this,e,i,n,o,h),this.padding=0,this.isShrunk=!1};return i.prototype=new t,i.prototype.setPadding=function(t){this.padding=t},i.prototype.getPadding=function(){this.padding},i.prototype.getClickRect=function(){var t={};return t.x=this.x-this.padding,t.y=this.y-this.padding,t.width=this.width+this.padding,t.height=this.height+this.padding,t},i.prototype.clickTest=function(t,i){var n=this.getClickRect();return e.hitTest(t,i,n.x,n.y,n.width,n.height)},i.prototype.clickBegin=function(){this.shrink(.75),console.log("Assign a clickBegin method!")},i.prototype.clickEnd=function(){this.unshrink(.75),console.log("Assign a clickEnd method!")},i.prototype.shrink=function(){if(!this.isShrunk){var t=.75;this.height=this.height*t,this.width=this.width*t,this.isShrunk=!0}},i.prototype.unshrink=function(){if(this.isShrunk){var t=.75;this.height=this.height/t,this.width=this.width/t,this.isShrunk=!1}},i}),console.log("animator.js loaded"),define("vg/animator",["vg/prop","vg/clickable","vg/sprite"],function(t,e,i){var n,o=10,h=null,s=[[],[],[]],a=[],c=0,r=0,d=function(t,e,i){h=t,o=e,this.scaleFactor=i,n=this;var s=document.getElementById("canvas"),a=s.offsetLeft+2,c=s.offsetTop+2,r=function(t,e){var i=Math.round((t-a)*n.scaleFactor),o=Math.round((e-c)*n.scaleFactor);console.log("ClickBegin at "+i+","+o+" using scale "+n.scaleFactor),n.onClickBegin(i,o)},d=function(t,e){var i=Math.round((t-a)*n.scaleFactor),o=Math.round((e-c)*n.scaleFactor);console.log("ClickEnd at "+i+","+o+" using scale "+n.scaleFactor),n.onClickEnd(i,o)},l=0,u=0;s.addEventListener?(s.addEventListener("mousedown",function(t){r(t.pageX,t.pageY)},!1),s.addEventListener("touchstart",function(t){t.preventDefault(),r(t.touches[0].pageX,t.touches[0].pageY)},!1),s.addEventListener("mouseup",function(t){d(t.pageX,t.pageY)},!1),s.addEventListener("touchmove",function(t){t.preventDefault(),l=t.touches[0].pageX,u=t.touches[0].pageY},!1),s.addEventListener("touchend",function(t){t.preventDefault(),d(l,u)},!1)):s.attachEvent&&(s.attachEvent("onmousedown",function(t){r(t.pageX,t.pageY)}),s.attachEvent("ontouchstart",function(t){t.preventDefault(),r(t.touches[0].pageX,t.touches[0].pageY)}),s.attachEvent("mouseup",function(t){d(t.pageX,t.pageY)}),s.attachEvent("touchmove",function(t){t.preventDefault(),l=t.touches[0].pageX,u=t.touches[0].pageY}),s.attachEvent("touchend",function(t){t.preventDefault(),d(l,u)}))};return d.prototype.setScaleFactor=function(t){return this.scaleFactor=t,this},d.prototype.onClickBegin=function(t,e){a.forEach(function(i){i.clickTest(t,e)&&(i.shrink(),i.clickBegin())})},d.prototype.onClickEnd=function(t,e){a.forEach(function(i){i.clickTest(t,e)&&i.clickEnd(),i.unshrink()})},d.prototype.add=function(t,i){return s[t].push(i),i instanceof e&&a.push(i),this},d.prototype.clear=function(){return s.forEach(function(t,e){s[e]=[]}),a=[],d.iterator=0,this.stop(),this},d.prototype.customAnimationHook=function(){},d.prototype.go=function(){c=setInterval(function(){try{s.forEach(function(t){t.forEach(function(t){t.update&&t.update(),t.check&&t.check(),r>500&&(t.update500&&t.update500(),t.check500&&t.check500()),t.draw(h)})}),n.customAnimationHook(),d.iterator++,r=r>500?0:r+o}catch(t){console.error(t.message),clearInterval(c)}},o)},d.prototype.stop=function(){clearInterval(c)},d.iterator=0,d.prototype.getIteration=function(){return d.iterator},d}),console.log("SpacePuppy.js loaded"),define("spacepuppy",["vg/vg","vg/animator","vg/clickable","vg/prop","vg/sprite"],function(t,e,i,n,o){var h=function(e,n,o,s,a){i.call(this,e,n,o,s,"rgba(255,255,255,.7)"),this.gameOverCb=a,t.isMobile()&&this.setPadding(10),h.dogCount++};return h.dogCount=0,h.prototype=new i,h.prototype.check500=function(){var e=this.getClickRect();t.hitTestRect(e.x,e.y,e.width,e.height,0,0,o.bWidth,o.bHeight)||this.die()},h.prototype.die=function(){this.check500=function(){},h.dogCount--,h.dogCount<=0&&this.gameOverCb()},h.prototype.clickBegin=function(){t.scorePlus(1),this.aboutFace()},h.prototype.aboutFace=function(){var t={};t.x=o.bWidth/2,t.y=o.bHeight/2;var e=0;this.x>t.x&&this.y>t.y?e=2:this.y>t.y?e=3:this.x>t.x&&(e=1);var i=Math.round(90*Math.random());i+=90*e,this.speed=0===this.speed?1:this.speed+.3,this.setVector(i,this.speed)},h}),console.log("spacedog.js loaded"),define("spacedog",["vg/vg","vg/animator","vg/clickable","vg/prop","vg/sprite","spacepuppy"],function(t,e,i,n,o,h){var s=function(t,e,i,n,o){h.call(this,t,e,i,n,o)};return s.prototype=new h,s.prototype.floatInPlace=function(){this.vOscillate(3)},s.prototype.drift=function(){o.prototype.update.call(this)},s.prototype.update=s.prototype.floatInPlace,s.prototype.clickBegin=function(){h.prototype.clickBegin.call(this),this.speed>3&&(this.update=s.prototype.drift)},s}),console.log("star.js loaded"),define("star",["vg/vg","vg/prop","vg/sprite"],function(t,e,i){var n=function(t,e,n,o){i.call(this,t,e,n,o,"#FFFFFF")};return n.prototype=new i,n.prototype.update=function(){i.prototype.update.call(this)},n.prototype.check500=function(){t.hitTestRect(this.x,this.y,this.width,this.height,0,0,i.bWidth,i.bHeight)||this.reappear()},n.prototype.warp=function(){this.x=0-this.width,this.y=Math.random()*i.bHeight},n.prototype.center=function(){this.width=2,this.height=2,this.x=i.bHeight/2,this.y=10},n.prototype.increase=function(){this.width+=.25,this.height+=.25},n.prototype.reappear=n.prototype.warp,n}),console.log("main.js loaded"),"serviceWorker"in navigator&&navigator.serviceWorker.register("service-worker.js"),require(["vg/vg","vg/animator","vg/clickable","vg/prop","vg/sprite","spacepuppy","spacedog","star"],function(t,e,i,n,o,h,s,a){var c=document.getElementById("sprites"),r=document.getElementById("canvas"),d="40001"===window.location.port?10:30,l="40001"===window.location.port?15:100;r.getContext||alert("Shucks!  Try a different browser please?");var u=r.getContext("2d");u.imageSmoothingEnabled=!1,u.webkitImageSmoothingEnabled=!1,u.mozImageSmoothingEnabled=!1;var p=null,g=null,f=function(){w(),p=new e(u,17,1),v(),o.bWidth=r.width,o.bHeight=r.height,m()},v=function(){var t=verge.viewportW(),e=verge.viewportH(),i=t>e?"landscape":"portrait",n=t>e?e:t;if(t>480||e>480){r.style.width=n+"px",r.style.height=n+"px",r.style.background="#000000","landscape"===i?(document.getElementById("content").style.height=n+"px",document.getElementById("content").style.width=1.5*n+"px"):(document.getElementById("content").style.width=n+"px",document.getElementById("content").style.height=1.5*n+"px");var o=r.width/n;p.setScaleFactor(o)}},y=function(t){v()},w=function(){window.addEventListener?window.addEventListener("resize",y,!1):window.attachEvent&&window.attachEvent("onresize",y)},m=function(){p.clear();var t=new n(0,0,r.width,r.height,"#000000");p.add(0,t);for(var e=0;30>e;e++){var o=new a(r.width/2,10,2,2,"#FFFFFF");o.setVector(180*Math.random(),Math.random()+.1),o.reappear=function(){this.setVector(180*Math.random(),Math.random()+.1),this.center()},20>e?o.update500=function(){this.setVelocity(this.vx*=1.2,this.vy*=1.2),this.width+=this.width*this.speed>1.5?.5:0,this.height+=this.height*this.speed>1.5?.5:0}:o.update500=function(){};var h=Math.random()*r.width/2;o.x+=o.vx*h,o.y+=o.vy*h,p.add(0,o)}var s=new n(-20,20,525,165);s.currentAngle=0,s.clockWise=!0,s.draw=function(t){var e=r.width/2,i=50;t.save(),t.translate(e,i),t.rotate(this.currentAngle*Math.PI/180),t.drawImage(c,0,210,175,55,this.x-e,this.y-i,this.width,this.height),t.restore()},s.update=function(){Math.abs(this.currentAngle)>5&&(this.clockWise=!this.clockWise),this.currentAngle+=this.clockWise?.03:-.03},p.add(2,s);var d=new n(110,150,275,117.5);d.draw=function(t){t.drawImage(c,0,267,110,47,this.x,this.y,this.width,this.height)},p.add(1,d);var l=new i(140,230,120,120);l.draw=function(t){t.drawImage(c,132,40,30,30,this.x,this.y,this.width,this.height)},l.clickEnd=function(){k()},l.update=function(){this.iconJump(25)},p.add(2,l);var u=new n(110,390,104,34);u.draw=function(t){t.drawImage(c,119,113,52,17,this.x,this.y,this.width,this.height)},p.add(2,u);var g=new i(240,200,590,440);g.draw=function(t){t.drawImage(c,0,0,118,88,this.x,this.y,this.width,this.height)},g.update=function(){this.vOscillate(1)},p.add(2,g),p.go()},k=function(){p.clear(),t.setScore(0),x(),b(),p.go()},x=function(){u.clearRect(0,0,u.canvas.width,u.canvas.height);var e=new o(0,0,r.width,r.height,"#000000");e.update=function(){},p.add(0,e),p.customAnimationHook=function(){if(t.getScore()>=l){var i=new n(-12,80,0,0);i.draw=function(t){var e="<p>BugzMode!</p>";t.font="20pt monospace",t.fillStyle="black",t.fillText(e,this.x,this.y),t.fillStyle="white",t.fillText(e,this.x+2,this.y+2)},p.add(2,i);var o=new n(-40,70,560,40,"cyan");p.add(0,o),e.draw=function(){},p.customAnimationHook=function(){}}};for(var i=0;10>i;i++){var d=new a(Math.random()*r.width,Math.random()*r.height,3,3);d.setVelocity(1.5*Math.random()+1,0),p.add(0,d)}var f=new a(Math.random()*r.width,Math.random()*r.height,114,114);f.x-=f.width/2,f.y-=f.height/2,f.setVelocity(.5,0),f.draw=function(t){t.drawImage(c,0,93,114,114,this.x,this.y,this.width,this.height)},p.add(1,f),h.dogCount=0;var v=new s(200,200,177,132,E);v.draw=function(t){t.drawImage(c,0,0,118,88,this.x,this.y,this.width,this.height)},v.clickBegin=function(){s.prototype.clickBegin.call(this),g.msg="KEEP TAPPING!",g.setVelocity(5,0);var e=Math.sqrt(t.getScore()-5);if(e===Math.ceil(e)){var i=new h(v.x,v.y,96,88,E);i.draw=function(t){t.drawImage(c,0,315,48,44,this.x,this.y,this.width,this.height)},i.aboutFace(),i.moveForward(50),p.add(1,i),v.setVelocity(0,0),v.update=v.floatInPlace}},p.add(1,v)},b=function(){var e=new n(10,10,29,29);e.draw=function(t){t.drawImage(c,133,8,29,29,this.x,this.y,this.width,this.height)},p.add(2,e);var i=new n(45,38,0,0);i.draw=function(e){e.font="32pt silkscreennormal",e.fillStyle="white",e.fillText(t.getScore()+"",this.x,this.y)},p.add(2,i);var h=new n(4,4,180,40,"black");p.add(0,h),g=new o(50,150,0,0),g.msg="TAP THE DOG",g.draw=function(t){t.font="32pt silkscreennormal",t.fillStyle="black",t.fillText(this.msg,this.x,this.y),t.fillStyle="white",t.fillText(this.msg,this.x+2,this.y+2)},p.add(2,g);var s=new n(200,470,0,0);s.draw=function(t){t.font="16pt Arial",t.fillStyle="rgba(225, 225, 225, 1)",t.fillText("sparkyland.com/gravitydog",this.x,this.y)},p.add(1,s)},E=function(){var e=new n(120,120,240,160,"rgba(255, 255, 255, .65)");p.add(2,e);var e=new n(125,125,230,50,"#33DD44");p.add(2,e);var o=new n(130,160,0,0);o.draw=function(e){var i=t.getScore()>=d?"Nice JOB!":"Keep try!";e.font="30pt silkscreennormal",e.fillStyle="black",e.fillText(i,this.x,this.y),e.fillStyle="white",e.fillText(i,this.x+2,this.y+2)},p.add(2,o);var h=new i(160,200,60,60);h.draw=function(t){t.drawImage(c,132,74,30,30,this.x,this.y,this.width,this.height)},h.clickEnd=function(){m()},p.add(2,h);var s=new i(260,200,60,60);s.draw=function(t){t.drawImage(c,132,40,30,30,this.x,this.y,this.width,this.height)},s.clickEnd=function(){k()},p.add(2,s)};f()}),define("gravitydog",function(){});