console.log("loaded vg.js"),define("vg/vg",[],function(){var t={};return t.hitTest=function(t,i,e,n,o,h){return t>=e&&e+o>=t&&i>=n&&n+h>=i},t.hitTestRect=function(i,e,n,o,h,s,a,c){return t.hitTest(i,e,h,s,a,c)||t.hitTest(i+n,e,h,s,a,c)||t.hitTest(i,e+o,h,s,a,c)||t.hitTest(i+n,e+o,h,s,a,c)},t.isMobile=function(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch},t.score=0,t.scorePlus=function(i){t.score+=i},t.getScore=function(){return t.score},t.setScore=function(i){t.score=i},t}),console.log("prop.js loaded"),define("vg/prop",[],function(){var t=function(t,i,e,n,o){this.x=t,this.y=i,this.width=e,this.height=n,this.color=o};return t.prototype.draw=function(t){t.fillStyle=this.color,t.fillRect(Math.round(this.x),Math.round(this.y),this.width,this.height)},t}),console.log("sprite.js loaded"),define("vg/sprite",["vg/prop"],function(t){var i=function(i,e,n,o,h){t.call(this,i,e,n,o,h),this.vx=0,this.vy=0,this.speed=0,this.dir=0};return i.prototype=new t,i.prototype.update=function(t,i){this.x+=this.vx,this.y+=this.vy},i.prototype.draw=function(t){t.fillStyle=this.color,t.fillRect(Math.round(this.x),Math.round(this.y),this.width,this.height)},i.prototype.setVelocity=function(t,i){this.vx=t,this.vy=i,this.speed=Math.sqrt(t*t+i*i)},i.prototype.setVector=function(t,e){var n=i.vectorToVelocity(t,e);this.vx=n.vx,this.vy=n.vy,this.dir=t,this.speed=e},i.prototype.vOscillate=function(){this.oscillateOffset||(this.oscillateOffset=0),this.oscillateOffset+=4,this.x+=this.vx,this.y+=this.vy+Math.sin(this.oscillateOffset*Math.PI/180)},i.prototype.iconJump=function(t){this.oscillateOffset||(this.oscillateOffset=0),this.baseLineY||(this.baseLineY=this.y),this.oscillateOffset+=4;var i=-Math.sin(this.oscillateOffset*Math.PI/180)*t;this.y-i<this.baseLineY&&(this.y=this.baseLineY-i)},i.vectorToVelocity=function(t,i){var e={},n=t*Math.PI/180;return e.vy=i*Math.sin(n),e.vx=i*Math.cos(n),e},i.prototype.moveForward=function(t){this.x=this.x+this.vx*t,this.y=this.y+this.vy*t},i.bWidth=100,i.bHeight=100,i}),console.log("clickable.js loaded"),define("vg/clickable",["vg/sprite","vg/vg"],function(t,i){var e=function(i,e,n,o,h){t.call(this,i,e,n,o,h),this.padding=0,this.isShrunk=!1};return e.prototype=new t,e.prototype.setPadding=function(t){this.padding=t},e.prototype.getPadding=function(){this.padding},e.prototype.getClickRect=function(){var t={};return t.x=this.x-this.padding,t.y=this.y-this.padding,t.width=this.width+this.padding,t.height=this.height+this.padding,t},e.prototype.clickTest=function(t,e){var n=this.getClickRect();return i.hitTest(t,e,n.x,n.y,n.width,n.height)},e.prototype.clickBegin=function(){this.shrink(.75),console.log("Assign a clickBegin method!")},e.prototype.clickEnd=function(){this.unshrink(.75),console.log("Assign a clickEnd method!")},e.prototype.shrink=function(){if(!this.isShrunk){var t=.75;this.height=this.height*t,this.width=this.width*t,this.isShrunk=!0}},e.prototype.unshrink=function(){if(this.isShrunk){var t=.75;this.height=this.height/t,this.width=this.width/t,this.isShrunk=!1}},e}),console.log("animator.js loaded"),define("vg/animator",["vg/prop","vg/clickable","vg/sprite"],function(t,i,e){var n,o=10,h=null,s=[[],[],[]],a=[],c=0,r=0,d=function(t,i,e){h=t,o=i,this.scaleFactor=e,n=this;var s=document.getElementById("canvas"),a=s.offsetLeft+2,c=s.offsetTop+2,r=function(t,i){var e=Math.round((t-a)*n.scaleFactor),o=Math.round((i-c)*n.scaleFactor);console.log("ClickBegin at "+e+","+o+" using scale "+n.scaleFactor),n.onClickBegin(e,o)},d=function(t,i){var e=Math.round((t-a)*n.scaleFactor),o=Math.round((i-c)*n.scaleFactor);console.log("ClickEnd at "+e+","+o+" using scale "+n.scaleFactor),n.onClickEnd(e,o)};s.addEventListener?(s.addEventListener("mousedown",function(t){r(t.pageX,t.pageY)},!1),s.addEventListener("touchstart",function(t){t.preventDefault(),r(t.touches[0].pageX,t.touches[0].pageY)},!1),s.addEventListener("mouseup",function(t){d(t.pageX,t.pageY)},!1),s.addEventListener("touchend",function(t){t.preventDefault(),d(t.touches[0].pageX,t.touches[0].pageY)},!1)):s.attachEvent&&(s.attachEvent("onmousedown",function(t){r(t.pageX,t.pageY)}),s.attachEvent("ontouchstart",function(t){t.preventDefault(),r(t.touches[0].pageX,t.touches[0].pageY)}),s.attachEvent("mouseup",function(t){d(t.pageX,t.pageY)}),s.attachEvent("touchend",function(t){t.preventDefault(),d(t.touches[0].pageX,t.touches[0].pageY)}))};return d.prototype.setScaleFactor=function(t){return this.scaleFactor=t,this},d.prototype.onClickBegin=function(t,i){a.forEach(function(e){e.clickTest(t,i)&&(e.shrink(),e.clickBegin())})},d.prototype.onClickEnd=function(t,i){a.forEach(function(e){e.clickTest(t,i)&&e.clickEnd(),e.unshrink()})},d.prototype.add=function(t,e){return s[t].push(e),e instanceof i&&a.push(e),this},d.prototype.clear=function(){return s.forEach(function(t,i){s[i]=[]}),a=[],d.iterator=0,this.stop(),this},d.prototype.customAnimationHook=function(){},d.prototype.go=function(){c=setInterval(function(){try{s.forEach(function(t){t.forEach(function(t){t.update&&t.update(),t.check&&t.check(),r>500&&(t.update500&&t.update500(),t.check500&&t.check500()),t.draw(h)})}),n.customAnimationHook(),d.iterator++,r=r>500?0:r+o}catch(t){console.error(t.message),clearInterval(c)}},o)},d.prototype.stop=function(){clearInterval(c)},d.iterator=0,d.prototype.getIteration=function(){return d.iterator},d}),console.log("SpacePuppy.js loaded"),define("spacepuppy",["vg/vg","vg/animator","vg/clickable","vg/prop","vg/sprite"],function(t,i,e,n,o){var h=function(i,n,o,s,a){e.call(this,i,n,o,s,"rgba(255,255,255,.7)"),this.gameOverCb=a,t.isMobile()&&this.setPadding(10),h.dogCount++};return h.dogCount=0,h.prototype=new e,h.prototype.check500=function(){var i=this.getClickRect();t.hitTestRect(i.x,i.y,i.width,i.height,0,0,o.bWidth,o.bHeight)||this.die()},h.prototype.die=function(){this.check500=function(){},h.dogCount--,h.dogCount<=0&&this.gameOverCb()},h.prototype.clickBegin=function(){t.scorePlus(1),this.aboutFace()},h.prototype.aboutFace=function(){var t={};t.x=o.bWidth/2,t.y=o.bHeight/2;var i=0;this.x>t.x&&this.y>t.y?i=2:this.y>t.y?i=3:this.x>t.x&&(i=1);var e=Math.round(90*Math.random());e+=90*i,this.speed=0===this.speed?1:this.speed+.3,this.setVector(e,this.speed)},h}),console.log("spacedog.js loaded"),define("spacedog",["vg/vg","vg/animator","vg/clickable","vg/prop","vg/sprite","spacepuppy"],function(t,i,e,n,o,h){var s=function(t,i,e,n,o){h.call(this,t,i,e,n,o)};return s.prototype=new h,s.prototype.floatInPlace=function(){this.vOscillate(3)},s.prototype.drift=function(){o.prototype.update.call(this)},s.prototype.update=s.prototype.floatInPlace,s.prototype.clickBegin=function(){h.prototype.clickBegin.call(this),this.speed>3&&(this.update=s.prototype.drift)},s}),console.log("star.js loaded"),define("star",["vg/vg","vg/prop","vg/sprite"],function(t,i,e){var n=function(t,i,n,o){e.call(this,t,i,n,o,"#FFFFFF")};return n.prototype=new e,n.prototype.update=function(){e.prototype.update.call(this)},n.prototype.check500=function(){t.hitTestRect(this.x,this.y,this.width,this.height,0,0,e.bWidth,e.bHeight)||this.reappear()},n.prototype.warp=function(){this.x=0-this.width,this.y=Math.random()*e.bHeight},n.prototype.center=function(){this.width=2,this.height=2,this.x=e.bHeight/2,this.y=10},n.prototype.increase=function(){this.width+=.25,this.height+=.25},n.prototype.reappear=n.prototype.warp,n}),console.log("main.js loaded"),"serviceWorker"in navigator&&navigator.serviceWorker.register("service-worker.js"),require(["vg/vg","vg/animator","vg/clickable","vg/prop","vg/sprite","spacepuppy","spacedog","star"],function(t,i,e,n,o,h,s,a){var c=document.getElementById("sprites"),r=document.getElementById("canvas"),d="40001"===window.location.port?10:30,l="40001"===window.location.port?15:100;r.getContext||alert("Shucks!  Try a different browser please?");var p=r.getContext("2d");p.imageSmoothingEnabled=!1,p.webkitImageSmoothingEnabled=!1,p.mozImageSmoothingEnabled=!1;var u=null,g=null,f=function(){w(),u=new i(p,17,1),v(),o.bWidth=r.width,o.bHeight=r.height,m()},v=function(){var t=verge.viewportW(),i=verge.viewportH(),e=t>i?"landscape":"portrait",n=t>i?i:t;if(t>480||i>480){r.style.width=n+"px",r.style.height=n+"px",r.style.background="#000000","landscape"===e?(document.getElementById("content").style.height=n+"px",document.getElementById("content").style.width=1.5*n+"px"):(document.getElementById("content").style.width=n+"px",document.getElementById("content").style.height=1.5*n+"px");var o=r.width/n;u.setScaleFactor(o)}},y=function(t){v()},w=function(){window.addEventListener?window.addEventListener("resize",y,!1):window.attachEvent&&window.attachEvent("onresize",y)},m=function(){u.clear();var t=new n(0,0,r.width,r.height,"#000000");u.add(0,t);for(var i=0;30>i;i++){var o=new a(r.width/2,10,2,2,"#FFFFFF");o.setVector(180*Math.random(),Math.random()+.1),o.reappear=function(){this.setVector(180*Math.random(),Math.random()+.1),this.center()},20>i?o.update500=function(){this.setVelocity(this.vx*=1.2,this.vy*=1.2),this.width+=this.width*this.speed>1.5?.5:0,this.height+=this.height*this.speed>1.5?.5:0}:o.update500=function(){};var h=Math.random()*r.width/2;o.x+=o.vx*h,o.y+=o.vy*h,u.add(0,o)}var s=new n(-20,20,525,165);s.currentAngle=0,s.clockWise=!0,s.draw=function(t){var i=r.width/2,e=50;t.save(),t.translate(i,e),t.rotate(this.currentAngle*Math.PI/180),t.drawImage(c,0,210,175,55,this.x-i,this.y-e,this.width,this.height),t.restore()},s.update=function(){Math.abs(this.currentAngle)>5&&(this.clockWise=!this.clockWise),this.currentAngle+=this.clockWise?.03:-.03},u.add(2,s);var d=new n(110,150,275,117.5);d.draw=function(t){t.drawImage(c,0,267,110,47,this.x,this.y,this.width,this.height)},u.add(1,d);var l=new e(140,230,120,120);l.draw=function(t){t.drawImage(c,132,40,30,30,this.x,this.y,this.width,this.height)},l.clickEnd=function(){k()},l.update=function(){this.iconJump(25)},u.add(2,l);var p=new n(110,390,104,34);p.draw=function(t){t.drawImage(c,119,113,52,17,this.x,this.y,this.width,this.height)},u.add(2,p);var g=new e(240,200,590,440);g.draw=function(t){t.drawImage(c,0,0,118,88,this.x,this.y,this.width,this.height)},g.update=function(){this.vOscillate(1)},u.add(2,g),u.go()},k=function(){u.clear(),t.setScore(0),x(),b(),u.go()},x=function(){p.clearRect(0,0,p.canvas.width,p.canvas.height);var i=new o(0,0,r.width,r.height,"#000000");i.update=function(){},u.add(0,i),u.customAnimationHook=function(){if(t.getScore()>=l){var e=new n(-12,80,0,0);e.draw=function(t){var i="<p>BugzMode!</p>";t.font="20pt monospace",t.fillStyle="black",t.fillText(i,this.x,this.y),t.fillStyle="white",t.fillText(i,this.x+2,this.y+2)},u.add(2,e);var o=new n(-40,70,560,40,"cyan");u.add(0,o),i.draw=function(){},u.customAnimationHook=function(){}}};for(var e=0;10>e;e++){var d=new a(Math.random()*r.width,Math.random()*r.height,3,3);d.setVelocity(1.5*Math.random()+1,0),u.add(0,d)}var f=new a(Math.random()*r.width,Math.random()*r.height,114,114);f.x-=f.width/2,f.y-=f.height/2,f.setVelocity(.5,0),f.draw=function(t){t.drawImage(c,0,93,114,114,this.x,this.y,this.width,this.height)},u.add(1,f),h.dogCount=0;var v=new s(200,200,177,132,E);v.draw=function(t){t.drawImage(c,0,0,118,88,this.x,this.y,this.width,this.height)},v.clickBegin=function(){s.prototype.clickBegin.call(this),g.msg="KEEP TAPPING!",g.setVelocity(5,0);var i=Math.sqrt(t.getScore()-5);if(i===Math.ceil(i)){var e=new h(v.x,v.y,96,88,E);e.draw=function(t){t.drawImage(c,0,315,48,44,this.x,this.y,this.width,this.height)},e.aboutFace(),e.moveForward(50),u.add(1,e),v.setVelocity(0,0),v.update=v.floatInPlace}},u.add(1,v)},b=function(){var i=new n(10,10,29,29);i.draw=function(t){t.drawImage(c,133,8,29,29,this.x,this.y,this.width,this.height)},u.add(2,i);var e=new n(45,38,0,0);e.draw=function(i){i.font="32pt silkscreennormal",i.fillStyle="white",i.fillText(t.getScore()+"",this.x,this.y)},u.add(2,e);var h=new n(4,4,180,40,"black");u.add(0,h),g=new o(50,150,0,0),g.msg="TAP THE DOG",g.draw=function(t){t.font="32pt silkscreennormal",t.fillStyle="black",t.fillText(this.msg,this.x,this.y),t.fillStyle="white",t.fillText(this.msg,this.x+2,this.y+2)},u.add(2,g);var s=new n(200,470,0,0);s.draw=function(t){t.font="16pt Arial",t.fillStyle="rgba(225, 225, 225, 1)",t.fillText("sparkyland.com/gravitydog",this.x,this.y)},u.add(1,s)},E=function(){var i=new n(120,120,240,160,"rgba(255, 255, 255, .65)");u.add(2,i);var i=new n(125,125,230,50,"#33DD44");u.add(2,i);var o=new n(130,160,0,0);o.draw=function(i){var e=t.getScore()>=d?"Nice JOB!":"Keep try!";i.font="30pt silkscreennormal",i.fillStyle="black",i.fillText(e,this.x,this.y),i.fillStyle="white",i.fillText(e,this.x+2,this.y+2)},u.add(2,o);var h=new e(160,200,60,60);h.draw=function(t){t.drawImage(c,132,74,30,30,this.x,this.y,this.width,this.height)},h.clickEnd=function(){m()},u.add(2,h);var s=new e(260,200,60,60);s.draw=function(t){t.drawImage(c,132,40,30,30,this.x,this.y,this.width,this.height)},s.clickEnd=function(){k()},u.add(2,s)};f()}),define("gravitydog",function(){});